# 系列 5：P63：63、SpringMvc的扩展 - 马士兵学堂 - BV1E34y1w773

![](img/56f87162e1670db1a96bda30d6937a67_0.png)

下面再来第二第三个点叫spring mc的一个扩展内容，这啥意思啊，什么叫spring mvc的扩展，这块也一样，我从官网里面截取的某一部分东西，来找找一个spring mvc的一个扩展，哪去了，诶。

怎么了，希望老师不要劝退啊，不会的不会的，没那么难，没那么难吧，别想太多，来看看这块的一个最基本解释，说，spring boot提供了适用于大多数，spring vc应用的一个自动配置。

第一个叫context，什么东西是一堆ban，你看到这些bean之后叫will reserver，好吧，will reserve是干嘛的，是不是叫视图解析器啊，你们都学过MVC了吧，有不会MVC的吗。

不会的同学扣二有不会的吗，小五不会啊，不可能吧，不过没关系好吧，你知道里面有什么东西叫视图解析器，这是不是看到了，是不是里面自己已经加载了，第二个什么叫支持服务，静态资源，包括对web站支持。

刚刚已经看到了web站是可以的，第三个叫什么呢，叫自动注册converter，好，converter和FORMATTER什么意思，是不是指的，我们的转换器和我们对应一个格式化器，这个转换器是什么意思啊。

你前端输入的项目，输入的信息都是我们的字符串，它能把对对应转换成对应的一个实体类对吧，格式化什么意思，比如日期转换成对应的一个格式，是不是都有，再比如说支持什么呢，也是converter好吧。

还有个叫message code reserver啊，这东西一般在那个9message这块，主要是在我们那个那个叫什么呃，国际化的时候可能会用一下好吧，包括这块说支持静态页面，index HTML是吧。

支持自定义的一个标签吧，还有什么东西叫configuration web bounds，Insertion beans，是不是也是一堆beans1些初始化。

所以这块是spring boot里面自动装载的一些配置是吧，这样都做了解释每个属性什么意思好吧，什么意思看错了，第一个叫视图解析器对吧，然后第二个叫支引入静态资源，包括对面不炸的一个支持。

现在的自动注册converter这些东西，然后这是我们的HTPG，HTP请求和响应的一个转换，这是我们的错误代码生成规则，这是静态的index自定义的分呃，这个呃标标签不是标签那个那个图标。

再来看自动使用我们这样的东西，将请求数绑定到我们的java b中，是有很多这样的知识对吧，大注意呀，这是谁，这是我们对应的那个spring boot里面自动集成的好吧，自动集成之后。

网上看说自动配置了vs reserve之后，就是我们之前自己学的spring vc的一个视图解析器，即根据方法的返回值取得输出对象，然后呢由输出对象决定如何进行一个渲染，就是我们的重定向和转发。

这功能这块也是一样的，你干嘛，你可以在我们对应的一个类里面进行一个查找，关键找对应类好吧，还是那样找里面的类，找哪类，官网里面给我们表示出来一个类叫什么，叫它看看，把它完之后，我们去里面进行一个搜索。



![](img/56f87162e1670db1a96bda30d6937a67_2.png)

怎么搜啊，是不是还是这个页面，CTRLFCTRLV找到这个吗，走往下走，往上看，这是不是有东西，是不是告诉你说这个值是这样的一个值，这是不是引入进来了，因为这之后下面告诉你说。

我这是一个will reserve表示一个视图解析器，当前这个视图解析器，然后呢new了这样一个对象，new完对象之后，往里面设置了一些相关的一些属性，是不是这里就能看到这个对线对应相关信息了。

这是不是就是我们整体那个视图处理器的一个，处理过程，是不是在我们的MVC额，web mvc of configuration这个类里面，你能看到这个信息吧对吧，但我也说过了。

这块不是说你随便写完之后就一定能生效，这是不是有很多判断叫conditional on beans，conditional on Missing beans是有很多的一些条件判断。

你只有符合了对应的一个条件之后，这块才会生效，如果你没有对应条件的话，这块是不会进行一个生效的，你懂我意思吧。



![](img/56f87162e1670db1a96bda30d6937a67_4.png)

那OK写完之后往下翻，这是不是只有这样的一个具体类，这类完了之后你可以干嘛，看一下刚刚写好的具体的那个类表示什么意思，也就是说把类点开。



![](img/56f87162e1670db1a96bda30d6937a67_6.png)

点完之后它是集成了继承什么东西，然后呢实现了什么样的东西，里面就告诉你说，这就是一个最基本的视图解析器，type栏里面是不是定义了N多方法，但现在你看完这个方法之后，可能还有点懵啊，不知道他是干嘛的啊。



![](img/56f87162e1670db1a96bda30d6937a67_8.png)

不知道干嘛的，没关系，我这里面写了往上往下翻，看，里面有一个方法叫什么呢，叫resolve，Will name，叫处理我们当前这个视图解析器的一个名称吧，是处理器的解器的名称对吧，处理名称是怎么处理的。

来我们这方法刚刚已经翻到了get。

![](img/56f87162e1670db1a96bda30d6937a67_10.png)

看看是不是叫resolve，然后呢叫view name，老师spring版本的版本多少，最新的2。2。2，最新版本我们直接看最新的不看了是吧，这是截出来一堆的一些请求集，合完之后这个东西往上翻。

这是一个if的判断，判断完了之后做些什么事情，看这看这行代码叫get啊，不会读啊，什么什么will，是不是这样获取方法，这方法返回什么，返回是一个list的一个will。

这返回是一个will的一个集合了，你点开当前这个方法好吧，这里面是不是告诉你我要循环遍历集合了，集合循环遍历的时候，是不是有for循环循环，告诉你说我要处理当前这个视图解析器了，然后呢这有一个判断。

判断完了之后也是一个循环的过程，时候把这视图解析都给拿出来，是不是这样的过程，所以你看了源码之后，你会发现说OK这里面有关于我们的视图解析器，完整的一个整体处理环节，一般是怎么找的。

我是怎么找到这个地方的，找完之后我是做哪些的处理，是不是经过选循环，你现在不要不要去看里面的东西啊，我现在只带你看一个大概的一个步骤，还有大概步骤之后讲杨老师的时候，这块我们会详细讲的，我会详细讲的。

这块你先别管，你就知道说我一步步是怎么找出来的。

![](img/56f87162e1670db1a96bda30d6937a67_12.png)

怎么来处理我们对应的一个视图就够了好，所以这里面我把代码给粘出来了，粘粘出来之后，这个get什么view，然后再往里面进行一个旋转好吧，转完之后可以init service conscan。

什么东西把它给取出来，在这说了一句话，说通过上面代码的分析，我们知道了spring boot是在容器中去查找视图解析器，因此我们可以干嘛，可以给容器自定义添加输入，什么叫输入表视图啊，自己写啊。

自己写的有错别字啊，这看到可以给容器自动添加，我们是不解气，这个时候这个类会帮我们将它给组合起来，是不是这意思好吧，这块也一样，刚刚代码就告诉你说，我把它加载到一个容器里面了，通过当前这个容器。

我们就能把我们的视图给取出来，它取出来之后，这可能是一个原理，大家记住了啊，说他是在容器里面找，所以此时如果自定义了一个视图解析器，只需要把它声明为一个视图，我们意味着是不是就能自己做一个操作了。

好所以我来看我在写这样的东西啊，写什么东西，他说了public will reserver，然后呢MARYRESERVER，然后写了这样一个数据，是自己定义的东西啊，不对啊，这下面下面是自定义的东西。

叫public class，Static class，My view reserver，Imply，什么东西实现完之后，什么处理都不做，不漏出来之后。

这可以return一个my will reserver，是不是这里写了一个B，当你写了病之后，意味着我加载到我们当前容器里面了，此时你当前这个视图解析器就生效了，当然一般情况下你不需要做这件事情啊。

不需要做这件事情，为什么，因为磁盘VC里面它本身提供了数解析器，除非说它提供的视图解析器，不再满足你的需求了，你这个时候没办法，我必须要进行一个自定义了，基于这样的情况下，你猜怎么样呢。

需要自己来完成一个添加过程，这块能听明白吗，能听明白吗，这源码没带你拿个看啊，我只给你们截出来了，我说了源码，我们现在先不看它，先讲这些基础知识，先把这块东西搞明白了之后，我们再看源码好吧。

这两码下去之后，有兴趣的同学可以先看看，你可以先看看好吧，每一步我给你写，都能写注释的地方，给你写注释了，来这里吗，能听明白，同学扣个一，我们是不是蒙了，能听懂吗，摸模板引擎是不是得重写。

不需要它本身是不支持了自己的模板引擎，你知道你除非用一个自己特定的模板引擎啊，一般不需要啊，比如说你现在只需要处理一个视图解析器，就是说，如果你现在想添加一个视图解析器的时候，为什么我把它声明成一个病。

它能处理的就在刚刚代码里面，你看到了它是从容器里面进行加载的时间有限，我们带你们看一下独立源码，只有原版课的时候会详细带你们读，里面每一个步骤到底是干什么事情，好吧，怎么做这样一个处理环节。

这块我会带你们说的，听懂了吧，OK如果你这块看明白之后也一样，回到我们这个官网这个环节，官网这块就刚刚说这块好吧，怎么进行一个添加的，你配置什么东西就行了，听到回话没一步步记录下来，没关系。

我笔记会发出去，你按照我笔记里面写就行了，我这个笔记啊写的比较详细的，每一个步骤通过哪个类哪个方法找进来的，怎么都要调调，调过来的都写的比较清楚好吧，来再往下看下面这块的一个文字描述，这两字描述注意了。

是我们对应的官网里面的一个描述，看错了，如果你想保留spring boot mvc的功能，并且需要添加其他MVC的一个配置，比如拦截器，比如格式化器，比如视图控制器，可以添加自己的web mvc。

Configuration，ADAPTOR类中的and configuration类，但是不能带上nable web mvc这个标签，为什么，因为你带上这个标签之后。

就意味着你自己完全掌控了我们的spring vc，而spring boot好吧，就不再起作用了，虽然说了，如果你想自定义它它它这些实例好吧。

可以声明一个web版mc registration adaptor类，来提供这些组件啊，刚才说了叫原油配置都失效，确实是这样的，所以这可能会成为一个问题，官网里面是不是都写的很清楚了。

就告诉你说一般不要做这样一件事，那我们这其实也可以做这样一个类似的配置，怎么配置呢，还有笔记里面写的，这样我自定义好自己的一类，记住你要继承这个时间类好吧，一定要记住这个时间类好。

接下来之后我们可以添加我们的视图控制器，来写一下吧。

![](img/56f87162e1670db1a96bda30d6937a67_14.png)

打开我们的项目，找到我们的com马士兵在里面，我new一个，Package，再写一个CONFIG，要写一个class叫麦CONFIG，写完之后注意了，这一定要实现一个东西。

实现叫web mvc configure，设置完成之后，在里面加一个方法叫ADD will control，当你加上control之后，你发现它里面有个什么参数啊，叫registry吧。

是不是注册的意思是registry点ADD什么东西，这个地方吧，是不是i will controller对吧，是不是CTRL，这里面你可以写什么，写一个随便的请求，它是U2地址嘛，比如写一个叫MSB。

然后呢这边写一个叫set，没有内容，这写些东西，我们有页面吗，没任何页面是吧，创建页面吧，创建页面切换页面，这是一个hello，yeah i就好了，Hello，这写一个hello e l l o。

不是不是完成这样的一个页面了，然后此时我后面可以写什么了，写上我们对应的一个请求叫杠呃，Hello，点HTMLDOCO是不是放到这样一个请求，当你写完这个请求之后，下面就告诉我再怎么写。

我需不需要在我们对应的一个control里面看到，我写这东西是不是返回一个size。

![](img/56f87162e1670db1a96bda30d6937a67_16.png)

你随便换个名字就行了，这个名字无所谓，当你匹配请求之后，我需不需要在我们当前这个control里面加一个。



![](img/56f87162e1670db1a96bda30d6937a67_18.png)

这是一个有字符串，我们大家现在这样写有问题没有，现在这样写的话，能请到我们这口页面吗，能不能请求到来，重启一下试试好吧，看下试试，不行来把它清空掉。



![](img/56f87162e1670db1a96bda30d6937a67_20.png)

进攻到这来请求一下试试，我猜没效果，来MSD回车，为什么说404，是不是意味着我找不到当前页面这么做。



![](img/56f87162e1670db1a96bda30d6937a67_22.png)

At composition，OK别忘了这东西，At configuration，刚刚啊在这是不是写的比较清楚。



![](img/56f87162e1670db1a96bda30d6937a67_24.png)

官网里面看，这块是告诉你说你要添加一个哪来哪去了，at configuration类，必须要把它做一个标志吧，是不是必须要把它做一个标识，这不是写了，但是你不要带这个标签，不带这个标签。

这个标签之后可能会成为一个问题，所以这块来提问一下。

![](img/56f87162e1670db1a96bda30d6937a67_26.png)

我重启一下，保证这个效果啊，好来再重新刷新一下刷，听到了吗。

![](img/56f87162e1670db1a96bda30d6937a67_28.png)

听到了吧，但是你想想这个请求是什么，请求，是合作spring吧，这是我们刚才说输出的东西吗，不是吧，因为什么。



![](img/56f87162e1670db1a96bda30d6937a67_30.png)

他跳转到我们刚刚那个my control里面去了吧，这时候把它改一下，我干掉，这儿返回一个信息，最后一个hello，这时候来再重启，其实不用重启啊，不用重启也可以重启一下吧，来再刷新一下。



![](img/56f87162e1670db1a96bda30d6937a67_32.png)

都找不到了，哪写错了。

![](img/56f87162e1670db1a96bda30d6937a67_34.png)

刚和罗写错了吗，这样写错了，找一下，Will pass，Hello，Would back conflow，这加一个东西，My conversion，不要加杠，这不加杠，不要加杠，这不要加杠，这不要加杠。



![](img/56f87162e1670db1a96bda30d6937a67_36.png)

啊申请一下嗯。

![](img/56f87162e1670db1a96bda30d6937a67_38.png)

就这个问题吗，control control没写错啊，my control不是hello吗，我要1hello，页面好点，Html，没错，周期一下。



![](img/56f87162e1670db1a96bda30d6937a67_40.png)

哎这怎么还不对啊，我写的和楼房马士兵。

![](img/56f87162e1670db1a96bda30d6937a67_42.png)

不是吧，没写错吧，这是不是4。5等于hello，访问写的是MACD。

![](img/56f87162e1670db1a96bda30d6937a67_44.png)

没写错呀，然后CCESS，Request mapping，哦这是吧，所以这是不是三四。

![](img/56f87162e1670db1a96bda30d6937a67_46.png)

这还跳回来啊，Hello html，Hello，Spring boot，这啥问题啊，是个目录，没墨了，这就放里面没问题啊，确实里边。



![](img/56f87162e1670db1a96bda30d6937a67_48.png)

哎404。

![](img/56f87162e1670db1a96bda30d6937a67_50.png)

request mapping加，这不用加杠，这有问题吗，没啥事啊，就这个不行了，blue这请求一个加不加，这加不加无所谓啊，这这这不是干的事，没有name等于他请求他写个hell。

应该写一个hello。

![](img/56f87162e1670db1a96bda30d6937a67_52.png)

去掉不去掉，去掉之后跟我们不一样吗。

![](img/56f87162e1670db1a96bda30d6937a67_54.png)

对啊，这哪有问题啊，我错了，我关掉，重新重新看一下啊，Confusion，这是我们自己的添加一个gm s b，然后呢发挥一个叫hello的一个请求，这样请求过来之后找到我们对应的一个杠，这没写错啊。



![](img/56f87162e1670db1a96bda30d6937a67_56.png)

之前测过了，这这应该不会有问题啊。

![](img/56f87162e1670db1a96bda30d6937a67_58.png)

这不有问题，Make my，Configuration tom a c，这是他请求fo return fo request mapping，继承错了，试一下，刚进行错了吗，来试一下啊，不是继承文件。

这应该就应该写hello啊，这这匹配的就是我们的hello这个请求，是不是有问题。

![](img/56f87162e1670db1a96bda30d6937a67_60.png)

![](img/56f87162e1670db1a96bda30d6937a67_61.png)

活动给不到我，你这个说几下试试。

![](img/56f87162e1670db1a96bda30d6937a67_63.png)

这个钥匙set up flow game。

![](img/56f87162e1670db1a96bda30d6937a67_65.png)

我认错了。

![](img/56f87162e1670db1a96bda30d6937a67_67.png)

Confidation，这哪有问题啊，要钻进来，这奇怪了，Rest control。

![](img/56f87162e1670db1a96bda30d6937a67_69.png)

Rise control，没关系，这就是control return hello，这是，没懂魔幻引擎模拟器没关系啊，我现在没用到模板引擎，把notch nol试一下，NOTEL试一下，是出东西了。

奇怪了，用CTRL就行。

![](img/56f87162e1670db1a96bda30d6937a67_71.png)

这不对啊，不继承错类了吗，没写错吧。

![](img/56f87162e1670db1a96bda30d6937a67_73.png)

Web mac configuration。

![](img/56f87162e1670db1a96bda30d6937a67_75.png)

![](img/56f87162e1670db1a96bda30d6937a67_76.png)

这也不对啊，The devior，不是他不是他，没写错啊，就是web，MVC这个，就这东西啊，这应该没问题啊，这个应该不应该出错啊。



![](img/56f87162e1670db1a96bda30d6937a67_78.png)

这好奇怪啊。

![](img/56f87162e1670db1a96bda30d6937a67_80.png)

是用效果器的原因吗，你想给自己试试啊，这我写的应该没问题啊，这是我们的数字点线是MSB，我是一你看啊看这意思啊，再看一下这个地方，现在我是加一个视图控制器，好叫MSB。

然后设置它一个视图名称叫hello对吧，所以我现在相当于什么呢，我要请求一下我们的MSB，当我请求MSB的时候，相当于我映射到我们的hello这个这个页面里面，是不是把它给请请请求到就行了。

是这样的意思啊，那我这写的时候，这个MACROL写的时候，这就应该写他写hello啊，这啥意思啊，都很奇葩。



![](img/56f87162e1670db1a96bda30d6937a67_82.png)

![](img/56f87162e1670db1a96bda30d6937a67_83.png)

又不让我请求了，非要用这两个名字换个名字也一样啊，你换一个ABCD，这可以吧，跟这名字无关啊，爱他，这应该没问题啊，这为什么会出问题，Hello，这肯定没问题啊，这不就写了个这就写了个天猫页面。

啥都没写，什么都没写。

![](img/56f87162e1670db1a96bda30d6937a67_85.png)

这样我们先访问一下，看能不能合作，能请求到，我这hello请求不到啊。

![](img/56f87162e1670db1a96bda30d6937a67_87.png)

这是controller reacts mapping，Return hello，我知道啥意思，好像好像这个问题啊，我们找个东西啊，额外加一个东西加一个。



![](img/56f87162e1670db1a96bda30d6937a67_89.png)

找一下东西啊，找一个我们的依赖，找一个依赖，找一下SIMPLIE赖啊，很奇怪啊，Free marke，我靠官网都不用了，Sim leaf，吓死我了，那把这一点加进来加一下试试四。



![](img/56f87162e1670db1a96bda30d6937a67_91.png)

这音乐有关系吗，这次爆我很抱，我很意外啊，为什么找不到啊。

![](img/56f87162e1670db1a96bda30d6937a67_93.png)

现在是有了，我现在请求呃，ABCD现在好了吗，好了吧，我说咋回事啊。

![](img/56f87162e1670db1a96bda30d6937a67_95.png)

我们代码写的肯定没问题啊，来这看，我来看刚好加什么是ABCD，相当于说我请求ABCD的时候，给他加了一个视图名称叫hello啊，Hello，Ok，这期刚出来的模板引擎。

我们刚刚那个目录放的时候是放这个呃，他们里面去了，这时候必须要加模板引擎之后，才能才能去便利我们这个他们的目录，要不然的话他找不到对应，找到对应的属性啊，找不到对应的页面啊，那这时候是不是没问题了。

现在我放在ABCD，改回来，Msd yy。

![](img/56f87162e1670db1a96bda30d6937a67_97.png)

来再重新请求一下，这个还不行。

![](img/56f87162e1670db1a96bda30d6937a67_99.png)

这个这个MSB中毒了吗，重启一下试试。

![](img/56f87162e1670db1a96bda30d6937a67_101.png)

好了现在是不是好了，是不是请求到了，因为我们没加模拟引擎这块给大家标注一下，注意，需要添加，模板引擎，什么我刚刚给他粘出来的东西，给他粘过来，我这，好了是这块东西好吧，稍微注意一下就行了。

知道你们自己是添加这个数解析就行了，明白意思吧，啊这块翻车了，浪浪费了点时间啊，不好意思啊，反正我刚写就感觉代码这块肯定是没问题的。



![](img/56f87162e1670db1a96bda30d6937a67_103.png)

好吧，请求过来就找不到折叠器，刚刚应该听折叠器啊，听折射器早早就解掉了行了，那这块咱们就聊这么多吧，别的不说了，来这边听白同学扣个一，这还有问题了吧。



![](img/56f87162e1670db1a96bda30d6937a67_105.png)